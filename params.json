{"name":"Node-ipip","tagline":"Node. js reader driver for ip database provided by ipip.net","body":"# node-ipip [![Build Status](https://travis-ci.org/ChiChou/node-ipip.svg?branch=master)](https://travis-ci.org/ChiChou/node-ipip) [![Coverage Status](https://img.shields.io/coveralls/ChiChou/node-ipip.svg)](https://coveralls.io/r/ChiChou/node-ipip) [![npm version](https://badge.fury.io/js/ipip.svg)](http://badge.fury.io/js/ipip)\r\n\r\n[English Document](README.en.md)\r\n\r\n适用于 Node.js 的 [ipip.net](http://ipip.net) IP 数据库查询模块。\r\n\r\n## 入门\r\n\r\n安装依赖项\r\n\r\n    npm install ipip\r\n\r\n[IP 地址库](http://s.qdcdn.com/17mon/17monipdb.dat) 由 ipip.net（原 17mon） 提供，您可以手动下载最新的文件到库所在目录，也可以在库所在目录直接使用 `npm run installdb`命令下载安装。\r\n\r\n代码示例\r\n\r\n    var ipInfo = require('ipip')();\r\n    \r\n    // 查询 IP 信息，以字典格式返回\r\n    console.log(ipInfo('202.195.161.30'));\r\n\r\n## 文档\r\n\r\n### 加载数据库\r\n\r\nrequire('ipip')([database])\r\n\r\n加载 database 指向的数据库，支持 dat 和 datx 格式。默认为免费版的 17monipdb.dat。\r\n\r\n例：\r\n\r\n    require('ipip')('/path/to/your/database.datx')\r\n    require('ipip')({data: '/path/to/file', version: 'datx'})\r\n\r\n**注意**：加载数据库是一个阻塞调用。\r\n\r\n### 查 IP\r\n\r\nip(ip [, format])\r\n\r\n**ip**\r\n\r\n待查询的 IP 地址，如 `8.8.8.8`\r\n\r\n例：\r\n\r\n    var ip = require('ipip')();\r\n    console.log(ip('8.8.8.8'));\r\n\r\n**format** \r\n\r\n制定返回数据的格式，可设置为 `array` 或者 `dict`。 \r\n\r\n* 免费版（dat 格式）数据包含国家、省份、城市；\r\n* 收费版包含国家、省份、城市、组织、运营商、经度、纬度、时区、行政区域代码。\r\n\r\n例：\r\n\r\n    console.log(ip('8.8.8.8', ip.FORMAT_DICT));\r\n\r\n设为 `array`（缺省）时返回格式如下：\r\n    \r\n    ['国家', '省份', '城市']\r\n\r\n设为 `dict` 时返回格式如下：\r\n\r\n    {\r\n      country: '国家',\r\n      province: '省份',\r\n      city: '城市'\r\n    }\r\n\r\n## 命令行小工具\r\n\r\n安装位全局模块之后，可以在命令行中使用 `ipip` 快速查询 IP 信息：\r\n\r\n    ➜  ~ ipip 8.8.8.8 202.195.161.30\r\n    Information for 8.8.8.8:\r\n    country: GOOGLE\r\n    province: GOOGLE\r\n    city: N/A\r\n    \r\n    Information for 202.195.161.30:\r\n    country: 中国\r\n    province: 江苏\r\n    city: 镇江\r\n    \r\n\r\n## 授权\r\n\r\nMIT","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}